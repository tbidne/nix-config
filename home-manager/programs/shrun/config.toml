init = ". ~/.bash_functions.sh"

# NIX ALIASES

[[legend]]
key = "ntest"
val = "sudo nixos-rebuild test --flake '.#nixos'"

[[legend]]
key = "nswitch"
val = "sudo nixos-rebuild switch --flake '.#nixos'"

[[legend]]
key = "nclean"
val = "nix-collect-garbage --delete-older-than 30d'"

[[legend]]
key = "ncleanall"
val = "sudo nix-collect-garbage -d"

[[legend]]
key = "ns"
val = "nix-shell --command exit"

[[legend]]
key = "nd"
val = "nix develop -c bash -c 'exit'"

[[legend]]
key = "nix-revw-hd"
val = 'nix-shell -p nixpkgs-review --run "nixpkgs-review rev HEAD"'

# GHC ALIASES

[[legend]]
key = "ghc_clean"
val = 'rm -rf _build'

[[legend]]
key = "ghc_build"
val = "./hadrian/build -j --flavour=validate+werror"

[[legend]]
key = "ghc_fbuild"
val = """
set -e

rm -rf _build

./boot

./configure

./hadrian/build -j --flavour=validate+werror
"""

[cmd-log]

[file-log]
path = "default"
mode = "append"
size-mode = "delete 50 mb"